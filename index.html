<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>e's time capsule</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav>
      <div class="logo">
        <img src="etc.png" alt="Logo" />
      </div>
      <div>
        <a href="#portfolio">portfolio</a>
        <a href="2025 resume.pdf" target="_blank">resume</a>
      </div>
    </nav>

    <header class="banner">
      <div class="welcome-content">
        <div class="welcome-text">
          <h1>hello!</h1>
          <p>i'm liz, welcome to my personal website ☺</p>
        </div>
        <div class="welcome-image">
          <img src="images/my-melody.png" alt="liz photo or illustration" />
        </div>
      </div>
    </header>

    <div class="container">
      <section id="portfolio" class="section">
        <h2>Projects</h2>
        <div class="grid">
          <div class="project">
            <a href="capstone.html">
              <img src="capstone/trailer+boat.JPG" alt="Capstone" />
              <div class="project-description">
                <h3>ENV-ISION</h3>
                <p>
                  Autonomous trailering system with AprilTag vision and embedded
                  control.
                </p>
              </div>
            </a>
          </div>
          <div class="project">
            <a href="mte380.html">
              <img src="mte380/380.png" alt="MTE 380" />
              <div class="project-description">
                <h3>AUTONOMOUS CAR</h3>
                <p>
                  STM32-controlled robot using PID logic, IR/RGB sensors, and
                  real-time feedback.
                </p>
              </div>
            </a>
          </div>
        </div>
      </section>

      <section id="experience" class="section">
        <h2>Co-op Experience</h2>
        <div class="carousel-wrapper">
          <div class="carousel-track" id="carouselTrack"></div>
          <div class="carousel-controls">
            <span class="carousel-arrow" id="prevArrow">←</span>
            <span class="carousel-arrow" id="nextArrow">→</span>
          </div>
          <div class="carousel-dots" id="carouselDots"></div>
        </div>
      </section>

      <section id="about" class="section">
        <h2>About Me</h2>
        <p>
          I’m an engineering student interested in software, hardware, and
          solving real-world problems. I enjoy working on personal and
          collaborative projects in my free time!
        </p>
      </section>

      <section id="contact" class="section">
        <div
          style="
            max-width: 550px;
            margin: 0 auto;
            padding: 2em;
            border: 2px solid #dfb1bc;
            border-radius: 12px;
            background-color: #fff0f5;
          "
        >
          <h2 style="text-align: center; margin-top: 0">Contact Me</h2>
          <form
            action="https://formspree.io/f/yourformid"
            method="POST"
            style="display: flex; flex-direction: column; gap: 1em"
          >
            <div>
              <label for="name" style="display: block; margin-bottom: 0.2em"
                >Name</label
              >
              <input
                type="text"
                id="name"
                name="name"
                placeholder="Your Name"
                required
                style="
                  width: 100%;
                  padding: 0.5em;
                  border-radius: 6px;
                  border: 1px solid #ccc;
                "
              />
            </div>
            <div>
              <label for="email" style="display: block; margin-bottom: 0.2em"
                >Email</label
              >
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Your Email"
                required
                style="
                  width: 100%;
                  padding: 0.5em;
                  border-radius: 6px;
                  border: 1px solid #ccc;
                "
              />
            </div>
            <div>
              <label for="message" style="display: block; margin-bottom: 0.2em"
                >Message</label
              >
              <textarea
                id="message"
                name="message"
                placeholder="Your Message"
                rows="5"
                required
                style="
                  width: 100%;
                  padding: 0.5em;
                  border-radius: 6px;
                  border: 1px solid #ccc;
                "
              ></textarea>
            </div>
            <button
              type="submit"
              style="
                padding: 0.7em;
                background: #dfb1bc;
                color: white;
                border: none;
                border-radius: 6px;
                font-weight: bold;
                cursor: pointer;
              "
            >
              Send
            </button>
          </form>
        </div>
      </section>
    </div>

    <div id="footer-container"></div>

    <script>
      const data = [
        {
          logo: "logos/apple.png",
          title: "Apple",
          role: "Product Ops Intern · Summer 2024",
          desc: "Safety systems, optical test rigs, modular enclosures",
        },
        {
          logo: "logos/arcadis.png",
          title: "Arcadis IBI",
          role: "Mechanical Design · Winter 2024",
          desc: "HVAC + plumbing in Revit, BIM coordination",
        },
        {
          logo: "logos/christie.png",
          title: "Christie Digital",
          role: "R&D Intern · Summer 2023",
          desc: "Autonomous robot dev, LiDAR, vision control",
        },
        {
          logo: "logos/upside.png",
          title: "Upside",
          role: "Software Intern · Fall 2023",
          desc: "Backend feature work, architecture & DevOps",
        },
        {
          logo: "logos/whatnot.png",
          title: "Whatnot",
          role: "Backend Intern · Winter 2025",
          desc: "FastAPI, Docker, checkout flow optimizations",
        },
        {
          logo: "logos/mte.png",
          title: "MTE 380",
          role: "Embedded Project · Fall 2023",
          desc: "GLCD game w/ interrupts, threads, C",
        },
      ];

      const track = document.getElementById("carouselTrack");
      const dots = document.getElementById("carouselDots");
      const prev = document.getElementById("prevArrow");
      const next = document.getElementById("nextArrow");
      let index = 0;

      function createItem(entry) {
        const div = document.createElement("div");
        div.className = "carousel-item";
        div.innerHTML = `
          <img src="${entry.logo}" alt="${entry.title}" />
          <h3>${entry.title}</h3>
          <p>${entry.role}</p>
          <p>${entry.desc}</p>
        `;
        return div;
      }

      function renderCarousel() {
        const clonesBefore = data.slice(-1);
        const clonesAfter = data.slice(0, 1);
        const fullList = [...clonesBefore, ...data, ...clonesAfter];

        fullList.forEach((itemData, i) => {
          const el = createItem(itemData);
          track.appendChild(el);
        });

        dots.innerHTML = "";
        data.forEach((_, i) => {
          const dot = document.createElement("div");
          dot.classList.add("carousel-dot");
          if (i === index) dot.classList.add("active");
          dot.addEventListener("click", () => {
            index = i;
            updateCarousel();
          });
          dots.appendChild(dot);
        });

        requestAnimationFrame(() => {
          updateCarousel(true); // Initial positioning, no animation
        });
      }

      function updateCarousel(skipAnim = false) {
        const items = document.querySelectorAll(".carousel-item");
        const itemWidth = items[0].offsetWidth;
        const totalItems = items.length;
        const trackWidth = itemWidth * totalItems;

        if (!skipAnim) {
          track.style.transition = "transform 0.5s ease";
        } else {
          track.style.transition = "none";
        }

        const offset = (index + 1) * itemWidth - itemWidth;
        track.style.transform = `translateX(-${offset}px)`;

        items.forEach((el, i) => {
          el.classList.remove("active");
          if (i === index + 1) el.classList.add("active");
        });

        const dotsArr = Array.from(dots.children);
        dotsArr.forEach((dot, i) => {
          dot.classList.toggle("active", i === index);
        });
      }

      function moveNext() {
        index++;
        if (index >= data.length) {
          index = 0;
          updateCarousel();
        } else {
          updateCarousel();
        }
      }

      function movePrev() {
        index--;
        if (index < 0) {
          index = data.length - 1;
          updateCarousel();
        } else {
          updateCarousel();
        }
      }

      next.addEventListener("click", moveNext);
      prev.addEventListener("click", movePrev);

      renderCarousel();

      fetch("footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer-container").innerHTML = data;
        });
    </script>
  </body>
</html>
